---
title: listener decorator
---

## Usage

`@listener` decorator represents the `client.on(<event>, (fn) => {})` in the
`discord.js`, and supports all `discord.js` EventEmitter events.

### Options

| name  | type     | description                                                                                            |
| ----- | -------- | ------------------------------------------------------------------------------------------------------ |
| event | string   | see [discord.js](https://discord.js.org/#/docs/main/stable/class/Client) doc for all supported events. |
| once  | boolean? | does should event be emitted once                                                                      |

#### Example

```typescript
import { LunaworkClient, Stage, listener } from '@siberianmh/lunawork'
import { Message } from 'discord.js'

export class ExampleStage extends Stage {
  public constructor(client: LunaworkClient) {
    super(client)
  }

  // Will be executed when new message is sent
  @listener({ event: 'messageCreate' })
  public async onNewMessage(msg: Message) {
    console.log(msg) // Logs the `Message`
  }
}
```
